(()=>{var e={565:()=>{function e(e,l){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var n,o,i,a,r=[],c=!0,s=!1;try{if(i=(l=l.call(e)).next,0===t){if(Object(l)!==l)return;c=!1}else for(;!(c=(n=i.call(l)).done)&&(r.push(n.value),r.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=l.return&&(a=l.return(),Object(a)!==a))return}finally{if(s)throw o}}return r}}(e,l)||function(e,l){if(e){if("string"==typeof e)return t(e,l);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,l):void 0}}(e,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,n=new Array(t);l<t;l++)n[l]=e[l];return n}var l=wp.components,n=l.SelectControl,o=l.TextControl,i=l.ToggleControl,a=l.BaseControl,r=l.Button,c=(l.Notice,wp.element),s=c.useState,d=c.useEffect,f=JetFBActions,_=f.addAction,p=f.getFormFieldsBlocks,u=JetFBComponents,m=u.ActionFieldsMap,b=u.WrapperRequiredControl,h=u.RepeaterWithState,g=u.ActionModal,w={type:"",label:"",format:"",field:"",link_label:""};_("apartment_booking",(function(t){var l=t.settings,c=t.source,f=t.label,_=t.help,u=t.onChangeSetting,y=e(s([]),2),k=y[0],v=y[1],C=e(s([]),2),E=C[0],x=C[1],B=e(s([]),2),j=B[0],F=B[1],A=e(s(!1),2),S=A[0],Y=A[1],M=e(s(!1),2),P=M[0],D=M[1];function O(e){D(!0),jQuery.ajax({url:window.ajaxurl,type:"POST",dataType:"json",data:{action:"jet_booking_save_wc_details",post_id:c.apartment,nonce:c.nonce,details:e}}).done((function(t){D(!1),t.success?(JetBookingActionData.details=e,Y(!1)):alert(t.data.message)})).fail((function(e,t,l){D(!1),alert(l)}))}return d((function(){var e={};c.columns.forEach((function(t){e[t]={label:t}}));var t={};c.wc_fields.forEach((function(e){t[e]={label:e}})),x(Object.entries(e)),F(Object.entries(t)),v(p([],"--"))}),[]),wp.element.createElement(React.Fragment,null,wp.element.createElement(n,{label:f("booking_apartment_field"),labelPosition:"side",value:l.booking_apartment_field,onChange:function(e){return u(e,"booking_apartment_field")},options:k}),wp.element.createElement(n,{label:f("booking_dates_field"),labelPosition:"side",value:l.booking_dates_field,onChange:function(e){return u(e,"booking_dates_field")},options:k}),wp.element.createElement(m,{label:f("db_columns_map"),fields:E,plainHelp:_("db_columns_map")},(function(e){var t=e.fieldId,n=e.fieldData,i=e.index;return wp.element.createElement(b,{field:[t,n]},wp.element.createElement(o,{key:t+i,value:l["db_columns_map_".concat(t)],onChange:function(e){return u(e,"db_columns_map_".concat(t))}}))})),Boolean(c.wc_integration)&&wp.element.createElement(React.Fragment,null,wp.element.createElement(i,{label:f("disable_wc_integration"),help:_("disable_wc_integration"),checked:l.disable_wc_integration,onChange:function(e){u(e,"disable_wc_integration")}}),!Boolean(l.disable_wc_integration)&&wp.element.createElement(React.Fragment,null,wp.element.createElement(n,{label:f("booking_wc_price"),help:_("booking_wc_price"),labelPosition:"side",value:l.booking_wc_price,onChange:function(e){return u(e,"booking_wc_price")},options:k}),wp.element.createElement(a,{label:f("wc_order_details"),help:_("wc_order_details")},wp.element.createElement(r,{isSecondary:!0,onClick:function(){return Y(!0)}},"Set up")),wp.element.createElement(m,{label:f("wc_fields_map"),fields:j,plainHelp:_("wc_fields_map")},(function(e){var t=e.fieldId,o=e.fieldData,i=e.index;return wp.element.createElement(b,{field:[t,o]},wp.element.createElement(n,{key:t+i,labelPosition:"side",value:l["wc_fields_map__".concat(t)],onChange:function(e){return u(e,"wc_fields_map__".concat(t))},options:k}))})),S&&wp.element.createElement(g,{title:"Set up WooCommerce order details",onRequestClose:function(){return Y(!1)},classNames:["width-60"],style:{opacity:P?"0.5":"1"},updateBtnProps:{isBusy:P}},(function(e){var t=e.actionClick,l=e.onRequestClose;return wp.element.createElement(h,{items:c.details,onSaveItems:O,newItem:w,onUnMount:function(){t||l()},isSaveAction:t,addNewButtonLabel:P?"Saving...":"Add new item +"},(function(e){var t=e.currentItem,l=e.changeCurrentItem;return wp.element.createElement(React.Fragment,null,wp.element.createElement(n,{label:f("wc_details__type"),labelPosition:"side",value:t.type,onChange:function(e){return l({type:e})},options:c.details_types}),wp.element.createElement(o,{label:f("wc_details__label"),value:t.label,onChange:function(e){return l({label:e})}}),["check-in","check-out"].includes(t.type)&&wp.element.createElement(React.Fragment,null,wp.element.createElement(o,{label:f("wc_details__format"),value:t.format,onChange:function(e){return l({format:e})}}),wp.element.createElement("a",{href:"https://codex.wordpress.org/Formatting_Date_and_Time",target:"_blank"},"Formatting docs")),"field"===t.type&&wp.element.createElement(n,{label:f("wc_details__field"),labelPosition:"side",value:t.field,onChange:function(e){return l({field:e})},options:k}),"add_to_calendar"===t.type&&wp.element.createElement(o,{label:f("wc_details__link_label"),value:t.link_label,onChange:function(e){return l({link_label:e})}}))}))})))))}))}},t={};function l(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,l),i.exports}l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};l.r(e),l.d(e,{metadata:()=>C,name:()=>x,settings:()=>j});var t=wp.i18n.__,n={cio_field_layout:t("Layout:","jet-booking"),cio_fields_position:t("Fields position:","jet-booking"),first_field_label:t("Check In field label:","jet-booking"),first_field_placeholder:t("Placeholder:","jet-booking"),second_field_label:t("Check Out field label:","jet-booking"),second_field_placeholder:t("Check Out field placeholder:","jet-booking"),cio_fields_format:t("Date format:","jet-booking"),cio_fields_separator:t("Date field separator:","jet-booking"),start_of_week:t("First day of the week:","jet-booking")},o={cio_fields_position:t("For separate fields layout"),first_field_label:t('If you are using separate fields for check in and check out dates,\n\tyou need to left default "Label" empty and use this option for field label'),cio_fields_format:t("Applies only for date in the form checkin/checkout fields.\n\tFor `MM-DD-YYYY` date format use the `/` date separator")},i={cio_field_layout:[{value:"single",label:t("Single field","jet-booking")},{value:"separate",label:t("Separate fields for check in and check out dates","jet-booking")}],cio_fields_position:[{value:"inline",label:t("Inline","jet-booking")},{value:"list",label:t("List","jet-booking")}],cio_fields_format:[{value:"YYYY-MM-DD",label:t("YYYY-MM-DD","jet-booking")},{value:"MM-DD-YYYY",label:t("MM-DD-YYYY","jet-booking")},{value:"DD-MM-YYYY",label:t("DD-MM-YYYY","jet-booking")}],cio_fields_separator:[{value:"-",label:"-"},{value:".",label:"."},{value:"/",label:"/"},{value:"space",label:t("Space","jet-booking")}],start_of_week:[{value:"monday",label:t("Monday","jet-booking")},{value:"sunday",label:t("Sunday","jet-booking")}]};function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},a.apply(this,arguments)}var r=JetFBComponents,c=r.AdvancedFields,s=r.GeneralFields,d=r.ToolBarFields,f=r.FieldWrapper,_=JetFBActions.Tools.withPlaceholder,p=wp.components,u=p.TextControl,m=p.SelectControl,b=p.PanelBody,h=p.Flex,g=p.FlexItem,w=wp.i18n.__,y=wp.blockEditor,k=y.InspectorControls,v=y.useBlockProps;const C=JSON.parse('{"apiVersion":2,"name":"jet-forms/check-in-out","category":"jet-form-builder-fields","icon":"<svg width=\\"64\\" height=\\"64\\" viewBox=\\"0 0 64 64\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<rect width=\\"64\\" height=\\"64\\" fill=\\"white\\"/>\\n<rect x=\\"10\\" y=\\"10\\" width=\\"44\\" height=\\"47\\" rx=\\"3\\" fill=\\"white\\" stroke=\\"#162B40\\" stroke-width=\\"2\\"/>\\n<path d=\\"M10 13C10 11.3431 11.3431 10 13 10H51C52.6569 10 54 11.3431 54 13V23H10V13Z\\" fill=\\"#4AF3BA\\" stroke=\\"#162B40\\" stroke-width=\\"2\\"/>\\n<path d=\\"M17 7C17 6.44772 17.4477 6 18 6C18.5523 6 19 6.44772 19 7V13C19 13.5523 18.5523 14 18 14C17.4477 14 17 13.5523 17 13V7Z\\" fill=\\"#162B40\\"/>\\n<path d=\\"M45 7C45 6.44772 45.4477 6 46 6C46.5523 6 47 6.44772 47 7V13C47 13.5523 46.5523 14 46 14C45.4477 14 45 13.5523 45 13V7Z\\" fill=\\"#162B40\\"/>\\n<rect x=\\"14.5\\" y=\\"27.5\\" width=\\"5\\" height=\\"5\\" rx=\\"0.5\\" fill=\\"white\\" stroke=\\"#162B40\\"/>\\n<rect x=\\"14.5\\" y=\\"37.5\\" width=\\"5\\" height=\\"5\\" rx=\\"0.5\\" fill=\\"#4AF3BA\\" stroke=\\"#162B40\\"/>\\n<rect x=\\"14.5\\" y=\\"47.5\\" width=\\"5\\" height=\\"5\\" rx=\\"0.5\\" fill=\\"#4AF3BA\\" stroke=\\"#162B40\\"/>\\n<rect x=\\"24.5\\" y=\\"27.5\\" width=\\"5\\" height=\\"5\\" rx=\\"0.5\\" fill=\\"#4AF3BA\\" stroke=\\"#162B40\\"/>\\n<rect x=\\"24.5\\" y=\\"37.5\\" width=\\"5\\" height=\\"5\\" rx=\\"0.5\\" fill=\\"#4AF3BA\\" stroke=\\"#162B40\\"/>\\n<rect x=\\"24.5\\" y=\\"47.5\\" width=\\"5\\" height=\\"5\\" rx=\\"0.5\\" fill=\\"white\\" stroke=\\"#162B40\\"/>\\n<rect x=\\"34.5\\" y=\\"27.5\\" width=\\"5\\" height=\\"5\\" rx=\\"0.5\\" fill=\\"#4AF3BA\\" stroke=\\"#162B40\\"/>\\n<rect x=\\"34.5\\" y=\\"37.5\\" width=\\"5\\" height=\\"5\\" rx=\\"0.5\\" fill=\\"#4AF3BA\\" stroke=\\"#162B40\\"/>\\n<rect x=\\"34.5\\" y=\\"47.5\\" width=\\"5\\" height=\\"5\\" rx=\\"0.5\\" fill=\\"white\\" stroke=\\"#162B40\\"/>\\n<rect x=\\"44.5\\" y=\\"27.5\\" width=\\"5\\" height=\\"5\\" rx=\\"0.5\\" fill=\\"#4AF3BA\\" stroke=\\"#162B40\\"/>\\n<rect x=\\"44.5\\" y=\\"37.5\\" width=\\"5\\" height=\\"5\\" rx=\\"0.5\\" fill=\\"#4AF3BA\\" stroke=\\"#162B40\\"/>\\n<rect x=\\"44.5\\" y=\\"47.5\\" width=\\"5\\" height=\\"5\\" rx=\\"0.5\\" fill=\\"white\\" stroke=\\"#162B40\\"/>\\n</svg>\\n","keywords":["field","check-in-out","check_in_out","booking","apartment"],"textdomain":"jet-form-builder","supports":{"customClassName":false,"html":false},"attributes":{"cio_field_layout":{"type":"string","default":""},"cio_fields_position":{"type":"string","default":""},"first_field_label":{"type":"string","default":""},"first_field_placeholder":{"type":"string","default":""},"second_field_label":{"type":"string","default":""},"second_field_placeholder":{"type":"string","default":""},"cio_fields_format":{"type":"string","default":""},"cio_fields_separator":{"type":"string","default":""},"start_of_week":{"type":"string","default":""},"label":{"type":"string","default":""},"name":{"type":"string","default":"field_name"},"desc":{"type":"string","default":""},"default":{"type":"string","default":""},"required":{"type":"boolean","default":false},"add_prev":{"type":"boolean","default":false},"prev_label":{"type":"string","default":""},"visibility":{"type":"string","default":""},"class_name":{"type":"string","default":""},"className":{"type":"string","default":""}}}');var E=wp.i18n.__,x=C.name,B=C.icon,j={title:E("Check-in/check-out dates"),icon:wp.element.createElement("span",{dangerouslySetInnerHTML:{__html:B}}),edit:function(e){var t=v(),l=e.attributes,r=e.setAttributes,p=e.isSelected,y=e.editProps.uniqKey;return[wp.element.createElement(d,a({key:y("ToolBarFields")},e)),p&&wp.element.createElement(k,{key:y("InspectorControls")},wp.element.createElement(s,a({key:y("GeneralFields")},e)),wp.element.createElement(b,{title:w("Field Settings"),key:y("PanelBody")},wp.element.createElement(m,{label:n.cio_field_layout,labelPosition:"top",value:l.cio_field_layout,onChange:function(e){r({cio_field_layout:e})},options:_(i.cio_field_layout)}),wp.element.createElement(m,{label:n.cio_fields_position,labelPosition:"top",help:o.cio_fields_position,value:l.cio_fields_position,onChange:function(e){r({cio_fields_position:e})},options:_(i.cio_fields_position)}),wp.element.createElement(u,{label:n.first_field_label,value:l.first_field_label,help:o.first_field_label,onChange:function(e){r({first_field_label:e})}}),wp.element.createElement(u,{label:n.first_field_placeholder,value:l.first_field_placeholder,help:o.first_field_placeholder,onChange:function(e){r({first_field_placeholder:e})}}),wp.element.createElement(u,{label:n.second_field_label,value:l.second_field_label,help:o.second_field_label,onChange:function(e){r({second_field_label:e})}}),wp.element.createElement(u,{label:n.second_field_placeholder,value:l.second_field_placeholder,help:o.second_field_placeholder,onChange:function(e){r({second_field_placeholder:e})}}),wp.element.createElement(m,{label:n.cio_fields_format,help:o.cio_fields_format,labelPosition:"top",value:l.cio_fields_format,onChange:function(e){r({cio_fields_format:e})},options:_(i.cio_fields_format)}),wp.element.createElement(m,{label:n.cio_fields_separator,labelPosition:"top",value:l.cio_fields_separator,onChange:function(e){r({cio_fields_separator:e})},options:_(i.cio_fields_separator)}),wp.element.createElement(m,{label:n.start_of_week,labelPosition:"top",value:l.start_of_week,onChange:function(e){r({start_of_week:e})},options:_(i.start_of_week)})),wp.element.createElement(c,a({key:y("AdvancedFields")},e))),wp.element.createElement("div",a({},t,{key:y("viewBlock")}),wp.element.createElement(f,a({key:y("FieldWrapper")},e),"separate"!==l.cio_field_layout&&wp.element.createElement(u,{placeholder:l.first_field_placeholder,key:y("place_holder_block"),onChange:function(){}}),"separate"===l.cio_field_layout&&wp.element.createElement(React.Fragment,null,"list"!==l.cio_fields_position&&wp.element.createElement(h,{expanded:!0},wp.element.createElement(g,{isBlock:!0,style:{flex:1}},wp.element.createElement(u,{label:l.first_field_label,placeholder:l.first_field_placeholder,key:y("place_holder_block"),onChange:function(){}})),wp.element.createElement(g,{isBlock:!0,style:{flex:1}},wp.element.createElement(u,{label:l.second_field_label,placeholder:l.second_field_placeholder,key:y("place_holder_block"),onChange:function(){}}))),"list"===l.cio_fields_position&&wp.element.createElement(React.Fragment,null,wp.element.createElement(u,{label:l.first_field_label,placeholder:l.first_field_placeholder,key:y("place_holder_block"),onChange:function(){}}),wp.element.createElement(u,{label:l.second_field_label,placeholder:l.second_field_placeholder,key:y("place_holder_block"),onChange:function(){}})))))]},useEditProps:["uniqKey","blockName","attrHelp"],example:{attributes:{label:"Check-in/check-out dates",desc:"Field description..."}}},F=(l(565),wp.hooks.addFilter);F("jet.fb.register.fields","jet-form-builder",(function(t){return t.push(e),t})),F("jet.fb.calculated.field.available.fields","jet-form-builder",(function(e){return e.push("%ADVANCED_PRICE::field_name%","%META::_apartment_price%"),e}))})()})();